colours = c("#D3D3D3", "#D3D3D3","#FE2200", "#FE9000", "#FFFF00",
"#7AAB01","#006100"),
values = c(0.0,0.49,0.6,0.7,0.8,0.9,1))+
ylim(-90,90)+
theme(panel.spacing = unit(0, units = "points"),
plot.margin = margin(0,0,0,0, "points"))
?theme
gplot(r.stack[[1]]) +
geom_tile(aes(fill = value)) +
scale_fill_gradientn(na.value = "gray95",
colours = c("#D3D3D3", "#D3D3D3","#FE2200", "#FE9000", "#FFFF00",
"#7AAB01","#006100"),
values = c(0.0,0.49,0.6,0.7,0.8,0.9,1))+
ylim(-90,90)+
theme(panel.spacing = unit(0, units = "points"),
plot.margin = unit(0,0,0,0, units="points"))
gplot(r.stack[[1]]) +
geom_tile(aes(fill = value)) +
scale_fill_gradientn(na.value = "gray95",
colours = c("#D3D3D3", "#D3D3D3","#FE2200", "#FE9000", "#FFFF00",
"#7AAB01","#006100"),
values = c(0.0,0.49,0.6,0.7,0.8,0.9,1))+
ylim(-90,90)+
theme(panel.spacing = unit(0, units = "points"),
plot.margin = unit(c(0,0,0,0), units="points"))
gplot(r.stack[[1]]) +
geom_tile(aes(fill = value)) +
scale_fill_gradientn(na.value = "gray95",
colours = c("#D3D3D3", "#D3D3D3","#FE2200", "#FE9000", "#FFFF00",
"#7AAB01","#006100"),
values = c(0.0,0.49,0.6,0.7,0.8,0.9,1))+
ylim(-90,90)+
coord_cartesian(xlim = c(-180, 180), ylim = c(-90,90))
gplot(r.stack[[1]]) +
geom_tile(aes(fill = value)) +
scale_fill_gradientn(na.value = "gray95",
colours = c("#D3D3D3", "#D3D3D3","#FE2200", "#FE9000", "#FFFF00",
"#7AAB01","#006100"),
values = c(0.0,0.49,0.6,0.7,0.8,0.9,1))+
ylim(-90,90)+
coord_cartesian(xlim = c(-10, 180), ylim = c(-90,90))
gplot(r.stack[[1]]) +
geom_tile(aes(fill = value)) +
scale_fill_gradientn(na.value = "gray95",
colours = c("#D3D3D3", "#D3D3D3","#FE2200", "#FE9000", "#FFFF00",
"#7AAB01","#006100"),
values = c(0.0,0.49,0.6,0.7,0.8,0.9,1))+
ylim(-90,90)+
coord_cartesian(xlim = c(-170, 180), ylim = c(-90,90))
gplot(r.stack[[1]]) +
geom_tile(aes(fill = value)) +
scale_fill_gradientn(na.value = "gray95",
colours = c("#D3D3D3", "#D3D3D3","#FE2200", "#FE9000", "#FFFF00",
"#7AAB01","#006100"),
values = c(0.0,0.49,0.6,0.7,0.8,0.9,1))+
ylim(-90,90)+
coord_cartesian(xlim = c(-100, 180), ylim = c(-90,90))
gplot(r.stack[[1]]) +
geom_tile(aes(fill = value)) +
scale_fill_gradientn(na.value = "gray95",
colours = c("#D3D3D3", "#D3D3D3","#FE2200", "#FE9000", "#FFFF00",
"#7AAB01","#006100"),
values = c(0.0,0.49,0.6,0.7,0.8,0.9,1))+
ylim(-90,90)+
coord_cartesian(xlim = c(-100, 180), ylim = c(-90,90), expand = c(0,0))
gplot(r.stack[[1]]) +
geom_tile(aes(fill = value)) +
scale_fill_gradientn(na.value = "gray95",
colours = c("#D3D3D3", "#D3D3D3","#FE2200", "#FE9000", "#FFFF00",
"#7AAB01","#006100"),
values = c(0.0,0.49,0.6,0.7,0.8,0.9,1))+
ylim(-90,90)+
coord_cartesian(xlim = c(-180, 180), ylim = c(-90,90), expand = c(0,0))
gplot(r.stack[[1]]) +
geom_tile(aes(fill = value)) +
scale_fill_gradientn(na.value = "gray95",
colours = c("#D3D3D3", "#D3D3D3","#FE2200", "#FE9000", "#FFFF00",
"#7AAB01","#006100"),
values = c(0.0,0.49,0.6,0.7,0.8,0.9,1))+
ylim(-90,90)+
coord_cartesian(expand = c(0,0))
gplot(r.stack[[1]]) +
geom_tile(aes(fill = value)) +
scale_fill_gradientn(na.value = "gray95",
colours = c("#D3D3D3", "#D3D3D3","#FE2200", "#FE9000", "#FFFF00",
"#7AAB01","#006100"),
values = c(0.0,0.49,0.6,0.7,0.8,0.9,1))+
ylim(-90,90)+
coord_cartesian(expand = 0)
gplot(r.stack) +
geom_tile(aes(fill = value)) +
scale_fill_gradientn(na.value = "gray95",
colours = c("#D3D3D3", "#D3D3D3","#FE2200", "#FE9000", "#FFFF00",
"#7AAB01","#006100"),
values = c(0.0,0.49,0.6,0.7,0.8,0.9,1))+
coord_cartesian(expand = 0)+
theme(panel.spacing = unit(0, units = "points"))
facet_wrap(~variable)
gplot(r.stack) +
geom_tile(aes(fill = value)) +
scale_fill_gradientn(na.value = "gray95",
colours = c("#D3D3D3", "#D3D3D3","#FE2200", "#FE9000", "#FFFF00",
"#7AAB01","#006100"),
values = c(0.0,0.49,0.6,0.7,0.8,0.9,1))+
coord_cartesian(expand = 0)+
theme(panel.spacing = unit(0, units = "points"))+
facet_wrap(~variable)
gplot(r.stack) +
geom_tile(aes(fill = value)) +
scale_fill_gradientn(na.value = "gray95",
colours = c("#D3D3D3", "#D3D3D3","#FE2200", "#FE9000", "#FFFF00",
"#7AAB01","#006100"),
values = c(0.0,0.49,0.6,0.7,0.8,0.9,1))+
coord_cartesian(expand = 0)+
theme(panel.spacing = unit(3, units = "points"))+
facet_wrap(~variable)
gplot(r.stack) +
geom_tile(aes(fill = value)) +
scale_fill_gradientn(na.value = "white",
colours = c("#D3D3D3", "#D3D3D3","#FE2200", "#FE9000", "#FFFF00",
"#7AAB01","#006100"),
values = c(0.0,0.49,0.6,0.7,0.8,0.9,1))+
coord_cartesian(expand = 0)+
theme(panel.spacing = unit(3, units = "points"))+
facet_wrap(~variable)
?scale_discrete_manual
?scale_fill_discrete
library("ggplot2", lib.loc="~/R/win-library/3.5")
install.packages("ggplot2")
detach("ggplot2")
detach(package::ggplot2)
detach(package::ggplot2)
detach(package:ggplot2)
install.packages("ggplot2")
install.packages("ggplot2")
library(ggplot2)
library(ggplot2)
?scale_discrete_manual
library(raster)
library(raster)
library(snowfall)
library(dplyr)
library(tibble)
library(rasterVis)
library(ggplot2)
library(tidyr)
# Downloading and processing the maps (only run once)
raster_path <- "C:/Users/vincent/Documents/holocene_biomes_dynamic/Processed data"
##################################################################################
#             Mapping the biome extant through time                              #
##################################################################################
# Here, in order to make the respresentation clearer, only the cells with less than 50% of their
# areas are considered belonging to the biome.
# For the sake of representation, only a few stapple date are represented but the rasters are computed
# for all the dates
raster_biomes <- raster("C:/Users/vincent/Documents/holocene_biomes_dynamic/Original data/biomes.tif")
#dataframe matching biomes names and numeric code (embedded in the biome raster)
biomes_codes <- attr(raster_biomes@data, "attributes")[[1]]
raster_path <- "C:/Users/vincent/Documents/holocene_biomes_dynamic/Processed data"
dates <- c("10000BC", "9000BC", "8000BC", "7000BC", "6000BC", "5000BC", "4000BC", "3000BC",
"2000BC", "1000BC", "0AD", "500AD", "1000AD", "1100AD", "1200AD", "1300AD", "1400AD",
"1500AD", "1600AD", "1700AD", "1710AD", "1720AD", "1730AD",   "1740AD", "1750AD",
"1760AD", "1770AD", "1780AD", "1790AD", "1800AD", "1810AD", "1820AD", "1840AD",
"1850AD", "1860AD", "1870AD", "1880AD", "1890AD", "1900AD", "1910AD", "1920AD",
"1930AD", "1940AD", "1950AD", "1960AD", "1970AD", "1980AD", "1990AD", "2000AD",
"2001AD", "2002AD", "2003AD", "2004AD", "2005AD", "2006AD", "2007AD", "2008AD",
"2009AD", "2010AD", "2011AD", "2012AD", "2013AD", "2014AD", "2015AD", "2016AD")
# Creating a visual representation for Temperate grasslands and 12 points in time (for the sake of simplicity):
#10000BC, 5000BC, 3000BC, 0AD, 500AD, 1500AD, 1750AD, 1800AD, 1900AD, 1950AD, 1975AD, 2016AD
dates <- c("10000BC", "5000BC", "3000BC", "0AD",
"500AD", "1500AD", "1750AD", "1800AD",
"1900AD", "1950AD", "1970AD", "2016AD")
r.list <- sapply(dates, function(d) raster(file.path(raster_path,
"Temperate Grasslands, Savannas and Shrublands",
paste0("Temperate Grasslands, Savannas and Shrublands_",
d, ".tif"))))
gplot(r.stack[[1]]) +
geom_tile(aes(fill = value)) +
scale_discrete_manual(breaks= c(0.0,0.49,0.6,0.7,0.8,0.9,1))
r.stack <- stack(r.list)
gplot(r.stack[[1]]) +
geom_tile(aes(fill = value)) +
scale_discrete_manual(breaks= c(0.0,0.49,0.6,0.7,0.8,0.9,1))+
coord_cartesian(expand = 0)+
theme(panel.spacing = unit(0, units = "points"))
gplot(r.stack[[1]]) +
geom_tile(aes(fill = value)) +
scale_discrete_manual(breaks= c(0.0,0.49,0.6,0.7,0.8,0.9,1), aesthetics = "fill")+
coord_cartesian(expand = 0)+
theme(panel.spacing = unit(0, units = "points"))
gplot(r.stack[[1]]) +
geom_tile() +
scale_discrete_manual(breaks= c(0.0,0.49,0.6,0.7,0.8,0.9,1), aesthetics = "fill")+
coord_cartesian(expand = 0)+
theme(panel.spacing = unit(0, units = "points"))
?break
?cut
gplot(cut(r.stack[[1]], breaks= c(0.0,0.49,0.6,0.7,0.8,0.9,1))) +
geom_tile(aes(fill = value))
gplot(cut(r.stack[[1]], breaks= c(-0.1,0.49,0.6,0.7,0.8,0.9,1))) +
geom_tile(aes(fill = value))
gplot(cut(r.stack[[1]], breaks= c(-0.1,0.49,0.6,0.7,0.8,0.9,1))) +
geom_tile(aes(fill = value)) +
scale_discrete_manual(breaks= c(0.0,0.49,0.6,0.7,0.8,0.9,1), aesthetics = "fill")
plot(cut(r.stack[[1]], breaks= c(-0.1,0.49,0.6,0.7,0.8,0.9,1)))
gplot(cut(r.stack[[1]], breaks= c(-0.1,0.49,0.6,0.7,0.8,0.9,1))) +
geom_tile(aes(fill = as.factor(value))) +
scale_discrete_manual(breaks= c(0.0,0.49,0.6,0.7,0.8,0.9,1), aesthetics = "fill")
gplot(cut(r.stack[[1]], breaks= c(-0.1,0.49,0.6,0.7,0.8,0.9,1))) +
geom_tile(aes(fill = as.factor(value)))
gplot(cut(r.stack[[1]], breaks= c(-0.1,0.49,0.6,0.7,0.8,0.9,1))) +
geom_tile(aes(fill = as.factor(value))) +
scale_discrete_manual(values = c("0" ="#D3D3D3", "0.5" ="#FE2200", "0.6"="#FE9000", "0.7"="#FFFF00",
"0.8"="#7AAB01","0.9"="#006100"), aesthetics = "fill")+
coord_cartesian(expand = 0)+
theme(panel.spacing = unit(0, units = "points"))
gplot(cut(r.stack[[1]], breaks= c(-0.1,0.49,0.6,0.7,0.8,0.9,1))) +
geom_tile(aes(fill = as.factor(value))) +
scale_discrete_manual(values = c("#D3D3D3", "#D3D3D3","#FE2200", "#FE9000", "#FFFF00",
"#7AAB01","#006100"), aesthetics = "fill")+
coord_cartesian(expand = 0)+
theme(panel.spacing = unit(0, units = "points"))
gplot(cut(r.stack[[1]], breaks= c(-0.1,0.49,0.6,0.7,0.8,0.9,1))) +
geom_tile(aes(fill = as.factor(value))) +
scale_discrete_manual(values = c("#D3D3D3", ,"#FE2200", "#FE9000", "#FFFF00",
"#7AAB01","#006100"), aesthetics = "fill")+
coord_cartesian(expand = 0)+
theme(panel.spacing = unit(0, units = "points"))
gplot(cut(r.stack[[1]], breaks= c(-0.1,0.49,0.6,0.7,0.8,0.9,1))) +
geom_tile(aes(fill = as.factor(value))) +
scale_discrete_manual(values = c("#D3D3D3", "#FE2200", "#FE9000", "#FFFF00",
"#7AAB01","#006100"), aesthetics = "fill")+
coord_cartesian(expand = 0)+
theme(panel.spacing = unit(0, units = "points"))
gplot(cut(r.stack[[1]], breaks= c(-0.1,0.49,0.6,0.7,0.8,0.9,1))) +
geom_tile(aes(fill = as.factor(value))) +
scale_discrete_manual(values = c("#D3D3D3", "#FE2200", "#FE9000", "#FFFF00",
"#7AAB01","#006100"), aesthetics = "fill")+
coord_cartesian(expand = 0)+
theme(panel.spacing = unit(3, units = "points"))+
facet_wrap(~variable)
gplot(cut(r.stack, breaks= c(-0.1,0.49,0.6,0.7,0.8,0.9,1))) +
geom_tile(aes(fill = as.factor(value))) +
scale_discrete_manual(values = c("#D3D3D3", "#FE2200", "#FE9000", "#FFFF00",
"#7AAB01","#006100"), aesthetics = "fill")+
coord_cartesian(expand = 0)+
theme(panel.spacing = unit(3, units = "points"))+
facet_wrap(~variable)
gplot(cut(r.stack, breaks= c(-0.1,0.49,0.6,0.7,0.8,0.9,1))) +
geom_tile(aes(fill = as.factor(value))) +
scale_discrete_manual(values = c("#D3D3D3", "#FE2200", "#FE9000", "#FFFF00",
"#7AAB01","#006100"), aesthetics = "fill",
na.value ="white")+
coord_cartesian(expand = 0)+
theme(panel.spacing = unit(3, units = "points"))+
facet_wrap(~variable)
gplot(cut(r.stack, breaks= c(-0.1,0.49,0.6,0.7,0.8,0.9,1))) +
geom_tile(aes(fill = as.factor(value))) +
scale_discrete_manual(values = c("#D3D3D3", "#FE2200", "#FE9000", "#FFFF00",
"#7AAB01","#006100"), aesthetics = "fill",
na.translate =FALSE)+
coord_cartesian(expand = 0)+
theme(panel.spacing = unit(3, units = "points"))+
facet_wrap(~variable)
gplot(cut(r.stack, breaks= c(-0.1,0.49,0.6,0.7,0.8,0.9,1))) +
geom_tile(aes(fill = as.factor(value))) +
scale_discrete_manual(values = c("#D3D3D3", "#FE2200", "#FE9000", "#FFFF00",
"#7AAB01","#006100"), aesthetics = "fill",
na.translate =FALSE,
name = "Percentage of non human land-cover",
labels = c("<50% or NA", "50-60%", "60-70%", "70-80%", "80-90%", "90-100%"))+
coord_cartesian(expand = 0)+
theme(panel.spacing = unit(3, units = "points"))+
facet_wrap(~variable)
gplot(cut(r.stack, breaks= c(-0.1,0.49,0.6,0.7,0.8,0.9,1))) +
geom_tile(aes(fill = as.factor(value))) +
scale_discrete_manual(values = c("#D3D3D3", "#FE2200", "#FE9000", "#FFFF00",
"#7AAB01","#006100"), aesthetics = "fill",
na.translate =FALSE,
name = "Percentage of non\n human land-cover",
labels = c("<50% or NA", "50-60%", "60-70%", "70-80%", "80-90%", "90-100%"))+
coord_cartesian(expand = 0)+
theme(panel.spacing = unit(3, units = "points"))+
facet_wrap(~variable)
?scal?theme
?theme
gplot(cut(r.stack, breaks= c(-0.1,0.49,0.6,0.7,0.8,0.9,1))) +
geom_tile(aes(fill = as.factor(value))) +
scale_discrete_manual(values = c("#D3D3D3", "#FE2200", "#FE9000", "#FFFF00",
"#7AAB01","#006100"), aesthetics = "fill",
na.translate =FALSE,
name = "Percentage of non\n human land-cover",
labels = c("<50% or NA", "50-60%", "60-70%", "70-80%", "80-90%", "90-100%"))+
coord_cartesian(expand = 0)+
theme(panel.spacing = unit(3, units = "points"),
plot.background = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank())+
facet_wrap(~variable)
gplot(cut(r.stack, breaks= c(-0.1,0.49,0.6,0.7,0.8,0.9,1))) +
geom_tile(aes(fill = as.factor(value))) +
scale_discrete_manual(values = c("#D3D3D3", "#FE2200", "#FE9000", "#FFFF00",
"#7AAB01","#006100"), aesthetics = "fill",
na.translate =FALSE,
name = "Percentage of non\n human land-cover",
labels = c("<50% or NA", "50-60%", "60-70%", "70-80%", "80-90%", "90-100%"),
na.value = "white")+
coord_cartesian(expand = 0)+
theme(panel.spacing = unit(3, units = "points"),
plot.background = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
axis.ticks = element_blank(),
axis.text = element_blank())+
facet_wrap(~variable)
gplot(cut(r.stack, breaks= c(-0.1,0.49,0.6,0.7,0.8,0.9,1))) +
geom_tile(aes(fill = as.factor(value))) +
scale_discrete_manual(values = c("#D3D3D3", "#FE2200", "#FE9000", "#FFFF00",
"#7AAB01","#006100"), aesthetics = "fill",
name = "Percentage of non\n human land-cover",
labels = c("<50% or NA", "50-60%", "60-70%", "70-80%",
"80-90%", "90-100%", ""),
na.value = "white")+
coord_cartesian(expand = 0)+
theme(panel.spacing = unit(3, units = "points"),
plot.background = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
axis.ticks = element_blank(),
axis.text = element_blank())+
facet_wrap(~variable)
gplot(cut(r.stack, breaks= c(-0.1,0.49,0.6,0.7,0.8,0.9,1))) +
geom_tile(aes(fill = as.factor(value))) +
scale_discrete_manual(values = c("#D3D3D3", "#FE2200", "#FE9000", "#FFFF00",
"#7AAB01","#006100"), aesthetics = "fill",
name = "Percentage of non\n human land-cover",
labels = c("<50% or NA", "50-60%", "60-70%", "70-80%",
"80-90%", "90-100%", ""),
na.value = "white")+
coord_equal(expand = 0)+
theme(panel.spacing = unit(3, units = "points"),
plot.background = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
axis.ticks = element_blank(),
axis.text = element_blank(),
axis.title = element_blank())+
facet_wrap(~variable)
biomes_codes
gplot(cut(r.stack, breaks= c(-0.1,0.49,0.6,0.7,0.8,0.9,1))) +
geom_tile(aes(fill = as.factor(value))) +
scale_discrete_manual(values = c("#D3D3D3", "#FE2200", "#FE9000", "#FFFF00",
"#7AAB01","#006100"), aesthetics = "fill",
name = "Percentage of non\n human land-cover",
labels = c("<50% or NA", "50-60%", "60-70%", "70-80%",
"80-90%", "90-100%", ""),
na.value = "white")+
coord_cartesian(expand = 0)+
theme(panel.spacing = unit(3, units = "points"),
plot.background = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
axis.ticks = element_blank(),
axis.text = element_blank(),
axis.title = element_blank())+
facet_wrap(~variable)
gplot(cut(r.stack, breaks= c(-0.1,0.49,0.6,0.7,0.8,0.9,1))) +
geom_tile(aes(fill = as.factor(value))) +
scale_discrete_manual(values = c("#D3D3D3", "#FE2200", "#FE9000", "#FFFF00",
"#7AAB01","#006100"), aesthetics = "fill",
name = "Percentage of non\n human land-cover",
labels = c("<50% or NA", "50-60%", "60-70%", "70-80%",
"80-90%", "90-100%", ""),
na.value = "white")+
coord_cartesian(expand = 0)+
theme(panel.spacing = unit(3, units = "points"),
plot.background = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
axis.ticks = element_blank(),
axis.text = element_blank(),
axis.title = element_blank())+
facet_wrap(~variable)
gplot(cut(r.stack, breaks= c(-0.1,0.49,0.6,0.7,0.8,0.9,1))) +
geom_tile(aes(fill = as.factor(value))) +
scale_discrete_manual(values = c("#D3D3D3", "#FE2200", "#FE9000", "#FFFF00",
"#7AAB01","#006100"), aesthetics = "fill",
name = "Percentage of non\n human land-cover",
labels = c("<50% or NA", "50-60%", "60-70%", "70-80%",
"80-90%", "90-100%", ""),
na.value = "white")+
coord_equal(expand = 0)+
theme(panel.spacing = unit(3, units = "points"),
plot.background = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
axis.ticks = element_blank(),
axis.text = element_blank(),
axis.title = element_blank())+
facet_wrap(~variable, ncol = 3)
gplot(cut(r.stack, breaks= c(-0.1,0.49,0.6,0.7,0.8,0.9,1))) +
geom_tile(aes(fill = as.factor(value))) +
scale_discrete_manual(values = c("#D3D3D3", "#FE2200", "#FE9000", "#FFFF00",
"#7AAB01","#006100"), aesthetics = "fill",
name = "Percentage of non\n human land-cover",
labels = c("<50% or NA", "50-60%", "60-70%", "70-80%",
"80-90%", "90-100%", ""),
na.value = "white")+
coord_equal(expand = 0)+
theme(panel.spacing = unit(3, units = "points"),
plot.background = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
axis.ticks = element_blank(),
axis.text = element_blank(),
axis.title = element_blank())+
facet_wrap(~variable, ncol = 3, labeller = function(variable) return(gsub("X", "", variable)))
gplot(cut(r.stack, breaks= c(-0.1,0.49,0.6,0.7,0.8,0.9,1))) +
geom_tile(aes(fill = as.factor(value))) +
scale_discrete_manual(values = c("#D3D3D3", "#FE2200", "#FE9000", "#FFFF00",
"#7AAB01","#006100"), aesthetics = "fill",
name = "Percentage of non\n human land-cover",
labels = c("<50% or NA", "50-60%", "60-70%", "70-80%",
"80-90%", "90-100%", ""),
na.value = "white")+
coord_equal(expand = 0)+
theme(panel.spacing = unit(3, units = "points"),
plot.background = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
axis.ticks = element_blank(),
axis.text = element_blank(),
axis.title = element_blank())+
facet_wrap(~variable, ncol = 3, labeller = function(variable) return(variable))
names(r.stack)
gplot(cut(r.stack, breaks= c(-0.1,0.49,0.6,0.7,0.8,0.9,1))) +
geom_tile(aes(fill = as.factor(value))) +
scale_discrete_manual(values = c("#D3D3D3", "#FE2200", "#FE9000", "#FFFF00",
"#7AAB01","#006100"), aesthetics = "fill",
name = "Percentage of non\n human land-cover",
labels = c("<50% or NA", "50-60%", "60-70%", "70-80%",
"80-90%", "90-100%", ""),
na.value = "white")+
coord_equal(expand = 0)+
theme(panel.spacing = unit(3, units = "points"),
plot.background = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
axis.ticks = element_blank(),
axis.text = element_blank(),
axis.title = element_blank())+
facet_wrap(~variable, ncol = 3) -> p
r.stack
attributes(r.stack)
gplot(cut(r.stack, breaks= c(-0.1,0.49,0.6,0.7,0.8,0.9,1))) +
geom_tile(aes(fill = as.factor(value))) +
scale_discrete_manual(values = c("#D3D3D3", "#FE2200", "#FE9000", "#FFFF00",
"#7AAB01","#006100"), aesthetics = "fill",
name = "Percentage of non\n human land-cover",
labels = c("<50% or NA", "50-60%", "60-70%", "70-80%",
"80-90%", "90-100%", ""),
na.value = "white")+
coord_equal(expand = 0)+
theme(panel.spacing = unit(3, units = "points"),
plot.background = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
axis.ticks = element_blank(),
axis.text = element_blank(),
axis.title = element_blank())+
facet_wrap(~variable, ncol = 3, labeller = function(variable) return(dates[variable]))
p
ggplot_build(p)
ll <- c(X10000BC = "10000BC", X5000BC = "5000BC", X3000BC = "3000BC", X0AD = "0AD",
X500AD = "500AD", X1500AD = "1500AD", X1750AD = "1750AD", X1800AD = "1800AD",
X1900AD = "1900AD", X1950AD = "1950AD", X1970AD = "1970AD", X2016AD = "2016AD")
gplot(cut(r.stack, breaks= c(-0.1,0.49,0.6,0.7,0.8,0.9,1))) +
geom_tile(aes(fill = as.factor(value))) +
scale_discrete_manual(values = c("#D3D3D3", "#FE2200", "#FE9000", "#FFFF00",
"#7AAB01","#006100"), aesthetics = "fill",
name = "Percentage of non\n human land-cover",
labels = c("<50% or NA", "50-60%", "60-70%", "70-80%",
"80-90%", "90-100%", ""),
na.value = "white")+
coord_equal(expand = 0)+
theme(panel.spacing = unit(3, units = "points"),
plot.background = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
axis.ticks = element_blank(),
axis.text = element_blank(),
axis.title = element_blank())+
facet_wrap(~variable, ncol = 3, labeller = labeller(variable = ll))
# Downloading and processing the maps (only run once)
source("./functions")
# Downloading and processing the maps (only run once)
source("./functions.R")
setwd("~/holocene_biomes_dynamic")
# Downloading and processing the maps (only run once)
source("functions.R")
